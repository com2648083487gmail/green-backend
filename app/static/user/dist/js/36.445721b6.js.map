{"version":3,"file":"js/36.445721b6.js","mappings":"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","sources":["webpack://ecodeco-user-client/./src/views/Register.vue","webpack://ecodeco-user-client/./src/views/Register.vue?157d"],"sourcesContent":["<template>\n  <div class=\"register-container\">\n    <h1>用户注册</h1>\n    <el-form\n      :model=\"registrationForm\"\n      :rules=\"rules\"\n      ref=\"registrationForm\"\n      label-width=\"100px\"\n      class=\"register-form\"\n    >\n      <el-form-item label=\"用户名\" prop=\"username\">\n        <el-input v-model=\"registrationForm.username\" placeholder=\"请输入用户名\"></el-input>\n      </el-form-item>\n      \n      <el-form-item label=\"手机号码\" prop=\"phone\">\n        <el-input v-model=\"registrationForm.phone\" placeholder=\"请输入手机号码\"></el-input>\n      </el-form-item>\n      \n      <el-form-item label=\"邮箱地址\" prop=\"email\">\n        <el-input v-model=\"registrationForm.email\" placeholder=\"请输入邮箱地址\"></el-input>\n      </el-form-item>\n      \n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input\n          v-model=\"registrationForm.password\"\n          type=\"password\"\n          placeholder=\"请输入密码\"\n          show-password\n        ></el-input>\n      </el-form-item>\n      \n      <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n        <el-input\n          v-model=\"registrationForm.confirmPassword\"\n          type=\"password\"\n          placeholder=\"请再次输入密码\"\n          show-password\n        ></el-input>\n      </el-form-item>\n      \n      <el-form-item>\n        <el-checkbox v-model=\"registrationForm.agreementChecked\">\n          我已阅读并同意\n          <el-link type=\"primary\" @click=\"showAgreement\">用户协议</el-link>\n          和\n          <el-link type=\"primary\" @click=\"showPrivacyPolicy\">隐私政策</el-link>\n        </el-checkbox>\n      </el-form-item>\n      \n      <el-form-item>\n        <el-button\n          type=\"primary\"\n          @click=\"register\"\n          :loading=\"loading\"\n          :disabled=\"!registrationForm.agreementChecked\"\n        >注册</el-button>\n        <el-button @click=\"goToLogin\">已有账号</el-button>\n      </el-form-item>\n    </el-form>\n\n    <!-- 协议弹窗 -->\n    <el-dialog\n      title=\"用户协议\"\n      v-model=\"agreementDialogVisible\"\n      width=\"60%\"\n    >\n      <div class=\"agreement-content\">\n        <h2>用户协议</h2>\n        <p>欢迎使用我们的环保家居商城服务...</p>\n        <!-- 协议内容 -->\n      </div>\n    </el-dialog>\n\n    <el-dialog\n      title=\"隐私政策\"\n      v-model=\"privacyDialogVisible\"\n      width=\"60%\"\n    >\n      <div class=\"agreement-content\">\n        <h2>隐私政策</h2>\n        <p>我们重视您的隐私保护...</p>\n        <!-- 隐私政策内容 -->\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'Register',\n  data() {\n    // 密码验证一致性检查\n    const validatePassword = (rule, value, callback) => {\n      if (value !== this.registrationForm.password) {\n        callback(new Error('两次输入密码不一致'))\n      } else {\n        callback()\n      }\n    }\n    \n    // 手机号码验证\n    const validatePhone = (rule, value, callback) => {\n      if (!/^1[3-9]\\d{9}$/.test(value)) {\n        callback(new Error('请输入正确的手机号码'))\n      } else {\n        callback()\n      }\n    }\n    \n    return {\n      loading: false,\n      agreementDialogVisible: false,\n      privacyDialogVisible: false,\n      registrationForm: {\n        username: '',\n        phone: '',\n        email: '',\n        password: '',\n        confirmPassword: '',\n        agreementChecked: false\n      },\n      rules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 2, max: 20, message: '长度在 2 到 20 个字符', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入手机号码', trigger: 'blur' },\n          { validator: validatePhone, trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n          { type: 'email', message: '请输入正确的邮箱地址', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, message: '密码长度不能小于 6 个字符', trigger: 'blur' }\n        ],\n        confirmPassword: [\n          { required: true, message: '请再次输入密码', trigger: 'blur' },\n          { validator: validatePassword, trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    ...mapActions('auth', ['register']),\n    \n    // 注册处理\n    register() {\n      this.$refs.registrationForm.validate(async (valid) => {\n        if (valid) {\n          if (!this.registrationForm.agreementChecked) {\n            this.$message.warning('请阅读并同意用户协议和隐私政策')\n            return\n          }\n          \n          this.loading = true\n          \n          try {\n            const result = await this.$store.dispatch('auth/register', {\n              username: this.registrationForm.username,\n              phone: this.registrationForm.phone,\n              email: this.registrationForm.email,\n              password: this.registrationForm.password\n            })\n            \n            if (result.success) {\n              this.$message.success('注册成功，即将跳转到登录页')\n              setTimeout(() => {\n                this.$router.push('/login')\n              }, 2000)\n            } else {\n              this.$message.error(result.message || '注册失败，请重试')\n            }\n          } catch (error) {\n            this.$message.error('注册失败：' + (error.message || '未知错误'))\n          } finally {\n            this.loading = false\n          }\n        } else {\n          return false\n        }\n      })\n    },\n    \n    goToLogin() {\n      this.$router.push('/login')\n    },\n    \n    showAgreement() {\n      this.agreementDialogVisible = true\n    },\n    \n    showPrivacyPolicy() {\n      this.privacyDialogVisible = true\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container {\n  max-width: 600px;\n  margin: 30px auto;\n  padding: 20px;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  background-color: #fff;\n}\n\n.register-container h1 {\n  text-align: center;\n  margin-bottom: 30px;\n  color: #4fd58e;\n}\n\n.agreement-content {\n  max-height: 400px;\n  overflow-y: auto;\n  padding: 0 20px;\n}\n</style> ","import { render } from \"./Register.vue?vue&type=template&id=3ab99c3e&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=3ab99c3e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3ab99c3e\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_el_form","model","$data","registrationForm","rules","ref","_component_el_form_item","label","prop","_component_el_input","username","$event","placeholder","phone","email","password","type","confirmPassword","_component_el_checkbox","agreementChecked","_component_el_link","onClick","$options","showAgreement","showPrivacyPolicy","_component_el_button","register","loading","disabled","goToLogin","_component_el_dialog","title","agreementDialogVisible","width","_hoisted_3","privacyDialogVisible","_hoisted_4","name","data","_this","validatePassword","rule","value","callback","Error","validatePhone","test","required","message","trigger","min","max","validator","methods","_objectSpread","mapActions","_this2","this","$refs","validate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","valid","result","wrap","_context","prev","next","$message","warning","abrupt","$store","dispatch","sent","success","setTimeout","$router","push","error","t0","finish","stop","_x","apply","arguments","__exports__","render"],"sourceRoot":""}