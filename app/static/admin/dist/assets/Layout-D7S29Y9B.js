import{h as p,i as j,u as q,c as v,d as e,w as t,e as n,o as d,b as s,j as c,k as z,s as I,l as P,m as U,F as A,n as G,p as h,g as i,t as w,T as H,q as J,v as K}from"./index-onYwJO-V.js";import{u as O}from"./user-3oDjFnb1.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-t--hEgTQ.js";const W="/admin/logo.png",X={class:"app-container"},Y={class:"left"},Z={class:"right"},$={class:"user-info"},ee={class:"username"},te={__name:"Layout",setup(oe){const f=j(),g=q(),b=O(),x=p(()=>b.username||"管理员"),k=p(()=>{const{path:l,meta:o}=f;if(o.parent)return"/"+o.parent.toLowerCase();if(l.includes("/")){const a=l.split("/");if(a.length>2)return"/"+a[1]}return l}),B=p(()=>{const l=[{title:"首页",path:"/dashboard"}],{path:o,meta:a}=f;if(o!=="/dashboard"){if(a.parent){const r=g.getRoutes().find(_=>_.name===a.parent);r&&l.push({title:r.meta.title,path:r.path})}l.push({title:a.title||"未命名页面",path:o})}return l}),y=l=>{switch(l){case"profile":break;case"password":break;case"logout":C();break}},C=()=>{K.confirm("确定要退出登录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{b.logout(),g.push("/login")}).catch(()=>{})};return(l,o)=>{const a=n("el-icon"),r=n("el-menu-item"),_=n("el-menu"),L=n("el-aside"),T=n("el-breadcrumb-item"),R=n("el-breadcrumb"),N=n("el-avatar"),m=n("el-dropdown-item"),S=n("el-dropdown-menu"),V=n("el-dropdown"),D=n("el-header"),E=n("router-view"),F=n("el-main"),M=n("el-container");return d(),v("div",X,[e(L,{width:"220px",class:"aside"},{default:t(()=>[o[4]||(o[4]=s("div",{class:"logo"},[s("img",{src:W,alt:"Logo",class:"logo-img"}),s("h1",null,"绿野鲜踪管理端")],-1)),e(_,{"default-active":k.value,class:"sidebar-menu","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#37c15c",router:""},{default:t(()=>[e(r,{index:"/dashboard"},{default:t(()=>[e(a,null,{default:t(()=>[e(c(z))]),_:1}),o[0]||(o[0]=s("span",null,"仪表盘",-1))]),_:1}),e(r,{index:"/products"},{default:t(()=>[e(a,null,{default:t(()=>[e(c(I))]),_:1}),o[1]||(o[1]=s("span",null,"产品管理",-1))]),_:1}),e(r,{index:"/orders"},{default:t(()=>[e(a,null,{default:t(()=>[e(c(P))]),_:1}),o[2]||(o[2]=s("span",null,"订单管理",-1))]),_:1}),e(r,{index:"/users"},{default:t(()=>[e(a,null,{default:t(()=>[e(c(U))]),_:1}),o[3]||(o[3]=s("span",null,"用户管理",-1))]),_:1})]),_:1},8,["default-active"])]),_:1}),e(M,{class:"main-container"},{default:t(()=>[e(D,{class:"header"},{default:t(()=>[s("div",Y,[e(R,{separator:"/"},{default:t(()=>[(d(!0),v(A,null,G(B.value,u=>(d(),h(T,{key:u.path,to:u.path},{default:t(()=>[i(w(u.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),s("div",Z,[e(V,{trigger:"click",onCommand:y},{dropdown:t(()=>[e(S,null,{default:t(()=>[e(m,{command:"profile"},{default:t(()=>o[5]||(o[5]=[i("个人信息")])),_:1}),e(m,{command:"password"},{default:t(()=>o[6]||(o[6]=[i("修改密码")])),_:1}),e(m,{divided:"",command:"logout"},{default:t(()=>o[7]||(o[7]=[i("退出登录")])),_:1})]),_:1})]),default:t(()=>[s("span",$,[e(N,{size:32,icon:"el-icon-user"}),s("span",ee,w(x.value),1)])]),_:1})])]),_:1}),e(F,{class:"main"},{default:t(()=>[e(E,null,{default:t(({Component:u})=>[e(H,{name:"fade",mode:"out-in"},{default:t(()=>[(d(),h(J(u)))]),_:2},1024)]),_:1})]),_:1})]),_:1})])}}},re=Q(te,[["__scopeId","data-v-b22230ba"]]);export{re as default};
